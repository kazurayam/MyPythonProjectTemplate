# My Python Project Template

- @author kazurayam
- @date Feb 2021

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<details>
<summary>Table of Contents</summary>

- [ã“ã‚Œã¯ä½•ã‹](#%E3%81%93%E3%82%8C%E3%81%AF%E4%BD%95%E3%81%8B)
- [å‰ææ¡ä»¶](#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6)
- [è¤‡æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰æˆã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ãŸ](#%E8%A4%87%E6%95%B0%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%8B%E3%82%89%E6%88%90%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%9F)
  - [IntelliJ IDEAã§ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ãŸ](#intellij-idea%E3%81%A7%E3%83%9E%E3%83%AB%E3%83%81%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AA%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%9F)
  - [pycliappã®æ¦‚è¦](#pycliapp%E3%81%AE%E6%A6%82%E8%A6%81)
  - [pywebappã®æ¦‚è¦](#pywebapp%E3%81%AE%E6%A6%82%E8%A6%81)
  - [pywebuitestã®æ¦‚è¦](#pywebuitest%E3%81%AE%E6%A6%82%E8%A6%81)
  - [è¨˜å·ROOTPROJã®å®šç¾©](#%E8%A8%98%E5%8F%B7rootproj%E3%81%AE%E5%AE%9A%E7%BE%A9)
- [pycliappã®èª¬æ˜](#pycliapp%E3%81%AE%E8%AA%AC%E6%98%8E)
  - [Pythonå‡¦ç†ç³»ã‚’macOSã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹](#python%E5%87%A6%E7%90%86%E7%B3%BB%E3%82%92macos%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B)
    - [pyenvã§Anacondaã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹](#pyenv%E3%81%A7anaconda%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B)
    - [globalã¨local](#global%E3%81%A8local)
    - [ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](#%E3%82%A2%E3%83%B3%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB)
  - [è¨˜å·SUBPROJã®å®šç¾©](#%E8%A8%98%E5%8F%B7subproj%E3%81%AE%E5%AE%9A%E7%BE%A9)
  - [pycliappã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã«Pythonä»®æƒ³ç’°å¢ƒã‚’ä½œã‚‹ --- pipenv](#pycliapp%E3%82%B5%E3%83%96%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%81%9F%E3%82%81%E3%81%ABpython%E4%BB%AE%E6%83%B3%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E3%82%8B-----pipenv)
    - [pipenvã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹](#pipenv%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B)
    - [pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã«å°‚ç”¨ã®Pythonä»®æƒ³ç’°å¢ƒã‚’ä½œã‚‹](#pycliapp%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AB%E5%B0%82%E7%94%A8%E3%81%AEpython%E4%BB%AE%E6%83%B3%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E3%82%8B)
    - [å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚‹](#%E5%A4%96%E9%83%A8%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B)
    - [é–‹ç™ºç’°å¢ƒã ã‘ã§ä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ¥æ ã§ç®¡ç†ã™ã‚‹](#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E3%81%A0%E3%81%91%E3%81%A7%E4%BD%BF%E3%81%86%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E5%88%A5%E6%9E%A0%E3%81%A7%E7%AE%A1%E7%90%86%E3%81%99%E3%82%8B)
    - [åˆ¥ãƒã‚·ãƒ³ã§Pythonä»®æƒ³ç’°å¢ƒã‚’å†ç¾ã™ã‚‹æ‰‹é †](#%E5%88%A5%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%A7python%E4%BB%AE%E6%83%B3%E7%92%B0%E5%A2%83%E3%82%92%E5%86%8D%E7%8F%BE%E3%81%99%E3%82%8B%E6%89%8B%E9%A0%86)
    - [Pipfileã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç™»éŒ²ã™ã‚‹](#pipfile%E3%81%AB%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B)
    - [ä»®æƒ³ç’°å¢ƒã«å…¥ã£ã¦ã‚·ã‚§ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹](#%E4%BB%AE%E6%83%B3%E7%92%B0%E5%A2%83%E3%81%AB%E5%85%A5%E3%81%A3%E3%81%A6%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B)
    - [.envãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•èª­ã¿è¾¼ã¿](#env%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E8%87%AA%E5%8B%95%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF)
    - [Pipfileã‹ã‚‰requirements.txtã‚’ç”Ÿæˆã™ã‚‹](#pipfile%E3%81%8B%E3%82%89requirementstxt%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B)
  - [pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’æ±ºã‚ã‚‹](#pycliapp%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E9%80%A0%E3%82%92%E6%B1%BA%E3%82%81%E3%82%8B)
  - [ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã](#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%8F)
  - [ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã](#%E3%83%A6%E3%83%8B%E3%83%83%E3%83%88%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%8F)
  - [srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ãŸãŒã†ã¾ãã„ã‹ãªã‹ã£ãŸ](#src%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%9F%E3%81%8C%E3%81%86%E3%81%BE%E3%81%8F%E3%81%84%E3%81%8B%E3%81%AA%E3%81%8B%E3%81%A3%E3%81%9F)
  - [IntelliJ IDEAã®ãªã‹ã®Pythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿…è¦ãªè¨­å®šã‚’ã™ã‚‹](#intellij-idea%E3%81%AE%E3%81%AA%E3%81%8B%E3%81%AEpython%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E8%A8%AD%E5%AE%9A%E3%82%92%E3%81%99%E3%82%8B)
    - [IDEAã«Platform SDKã‚’è¿½åŠ ã™ã‚‹](#idea%E3%81%ABplatform-sdk%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B)
    - [IDEAã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«Project SDKã‚’è¨­å®šã™ã‚‹](#idea%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%ABproject-sdk%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B)
  - [ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ --- pytest](#%E3%83%A6%E3%83%8B%E3%83%83%E3%83%88%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B-----pytest)
    - [IDEAã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šï¼šã‚½ãƒ¼ã‚¹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å°ã‚’ã¤ã‘ã‚‹](#idea%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AB%E5%8D%B0%E3%82%92%E3%81%A4%E3%81%91%E3%82%8B)
- [pywebappã®èª¬æ˜](#pywebapp%E3%81%AE%E8%AA%AC%E6%98%8E)
- [pywebuitestã®èª¬æ˜](#pywebuitest%E3%81%AE%E8%AA%AC%E6%98%8E)
- [è£œè¶³èª¬æ˜](#%E8%A3%9C%E8%B6%B3%E8%AA%AC%E6%98%8E)
  - [READMEã«ç›®æ¬¡ã‚’ã¤ã‘ãŸ](#readme%E3%81%AB%E7%9B%AE%E6%AC%A1%E3%82%92%E3%81%A4%E3%81%91%E3%81%9F)

</details>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## ã“ã‚Œã¯ä½•ã‹

Pythonã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¨ã—ã¦ã¯ã¨ã¦ã‚‚ç¿’å¾—ã—ã‚„ã™ã„è¨€èªã ã€‚ ã¨ã“ã‚ãŒPythonè¨€èªã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è‡ªä½œã—ã‚ˆã†ã¨ä»•äº‹ã—å§‹ã‚ãŸã¨ãŸã‚“ã€ã•ã¾ã–ã¾ãªç–‘å•ã«é­é‡ã—ãŸã€‚Pythonå‡¦ç†ç³»ãã‚Œè‡ªä½“ã‚’ã©ã†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã€ç‰¹ã«è¤‡æ•°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Pythonã‚’ä½¿ã„åˆ†ã‘ã‚‹ã«ã¯ã©ã†ã™ã‚‹ã‹ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã•ã¾ã–ã¾ãªå¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã©ã†ç®¡ç†ã™ã‚‹ã‹ã€è‡ªä½œã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ã©ã†ã‚„ã£ã¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–ã™ã‚‹ã‹ã€è‡ªä½œã—ãŸã‚³ãƒ¼ãƒ‰ã‚’æœ¬ç•ªãƒã‚·ãƒ³ã§ã©ã†ã‚„ã£ã¦é…å‚™ã™ã‚‹ã‹ã€ã¨ã„ã£ãŸå•é¡Œã ã€‚é–‹ç™ºç’°å¢ƒã‚’ã©ã†ä½œã‚‹ã‹ã€é–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚’ã©ã†ä½¿ã†ã‹ã€‚ã“ã†ã—ãŸå•é¡Œã¯ã™ã§ã«å…ˆäººã®æ‰‹ã§è§£æ±ºæ¸ˆã¿ã§ã‚ã£ã¦ãƒãƒƒãƒˆã‚’èª¿ã¹ã‚Œã°ç­”ãˆãŒè¦‹ã¤ã‹ã‚‹ã€‚ã—ã‹ã—ã“ã†ã—ãŸãƒã‚¦ãƒã‚¦ã‚’ç¿’å¾—ã™ã‚‹ã®ã¯å®¹æ˜“ã§ã¯ãªã‹ã£ãŸã€‚

Pythonã«ã‚ˆã‚‹é–‹ç™ºç’°å¢ƒã‚’ã„ã‹ã«æ§‹ç¯‰ã—é–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã‹ã®ãŠæ‰‹æœ¬ã¨ãªã‚‹ã‚³ãƒ¼ãƒ‰ä¸€å¼ã‚’ä»•è¾¼ã‚“ã§ã€ã“ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã«æ ¼ç´ã—Git Hubã«ã‚¢ãƒƒãƒ—ã—ã‚ˆã†ã¨æ€ã†ã€‚ä»Šå¾Œè‡ªåˆ†ãŒã•ã¾ã–ã¾ãªä»•äº‹ã‚’Pythonã§è§£æ±ºã—ã‚ˆã†ã¨ã™ã‚‹ã¨ãGit Hubã®Template Repositoryæ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã•ã£ã•ã¨ç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«æº–å‚™ã—ã‚ˆã†ã€‚


## å‰ææ¡ä»¶

1. ä½¿ã†ãƒã‚·ãƒ³ã¯Mac Book Airã€OSã¯maxOS 11.1 Big Sur
1. Macã«Homebrewã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã€èª¬æ˜ã¯çœç•¥ã™ã‚‹
1. Macã«Gitã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã€‚Git Hubã«è‡ªåˆ†ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã‚‹ã€‚Gitã®æ“ä½œã«ç†Ÿé”ã—ã¦ã„ã‚‹ã¨å‰æã™ã‚‹ã®ã§Gitã«é–¢ã™ã‚‹èª¬æ˜ã¯çœç•¥ã™ã‚‹ã€‚
1. Macã§IntelliJ IDEAã‚’çµ±åˆé–‹ç™ºç’°å¢ƒã¨ã—ã¦ä½¿ã†ã€‚IDEAã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’æŒã£ã¦ã„ã¦ã€IDEAã«Pythonãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã€‚

## è¤‡æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰æˆã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ãŸ

ä¸€ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã®ã«è¤‡æ•°ã®æŠ€è¡“è¦ç´ ã‚’çµ„ã¿åˆã‚ã›ãŸããªã‚‹å ´åˆãŒã‚ˆãã‚ã‚‹ã€‚ãã®å ´åˆã€è¤‡æ•°ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä¸€ã¤ã®Gitãƒ¬ãƒã‚¸ãƒˆãƒªã«ã¾ã¨ã‚ã¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã—ãŸã„ã€‚

ãã“ã§æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯æ‰‹æœ¬ã¨ã—ã¦ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã“ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã®ä¸­ã«ï¼“ã¤ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ã¦ã€ã²ã¨ã¾ã¨ã‚ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚

```
$ tree $ROOTPROJ
.
â”œâ”€â”€ pycliapp
â”œâ”€â”€ pywebapp
â””â”€â”€ pywebuitest
```

>ãªãŠä¸Šè¨˜ã§ `ROOTPROJ` ã¨ã„ã†è¨˜å·ã‚’ç”¨ã„ã¦ã„ãŸã€‚ã“ã‚Œã¯æœ¬ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ã‚ãŸã—ã®PCã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ã‚£ã‚¹ã‚¯ã«cloneã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ä½œã‚‰ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãŸã¨ãˆã° `~/github/MultipleModulesProjectTemplate`ï¼‰ã‚’è¡¨ã—ã¾ã™ã€‚

>ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ•°ã¯ï¼“ã¤ã¨ã‹ãã‚‰ãªã„ã€Pythonè¨€èªã ã‘ã¨ã¯ã‹ãã‚‰ãªã„ã€‚ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Javaã‚„Nodeã§ä½œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã ã‚ã†ã€‚

### IntelliJ IDEAã§ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ãŸ

ã‚ãŸã—ã¯Javaã«ã‚ˆã‚‹é–‹ç™ºã®ãŸã‚ çµ±åˆé–‹ç™ºç’°å¢ƒ IntelliJ IDEA ã‚’ãšã£ã¨ä½¿ã£ã¦ããŸã€‚ã ã‹ã‚‰IDEAã§Pythonã®é–‹ç™ºã‚‚ã‚„ã‚‹ã“ã¨ã«ã—ãŸã€‚IDEAã§ã²ã¨ã¤ã®è¦ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãªã‹ã«è¤‡æ•°ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒãŸã›ãŸã‹ã£ãŸã€‚ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ãŸã€‚

- [IntelliJ IDEAã§è¤‡æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹æ‰‹é †ã®ãƒ¡ãƒ¢](https://qiita.com/rubytomato@github/items/e534e4f1187801b7e159)

ã“ã®è¨˜äº‹ã‹ã‚‰ä¸‹è¨˜ã®ã“ã¨ã‚’ç¿’ã£ãŸã€‚

1. IDEAã§$ROOTPROJãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«New Projectã‚’ä½œã‚‹ã¨ã **Empty Project** ã‚’é¸æŠã™ã‚‹ã€‚
1. IDEAã§ MultipleModulesProjectTemplate ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒé–‹ã„ãŸã‚‰ã€*File > Project Structure* ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ ã‚’è¨­å®šã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ãã€‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ *Project Settings > Modules* ã‚’é¸æŠã™ã‚‹ã€‚Moduleã‚’ï¼‹ï¼ˆè¿½åŠ ï¼‰ã™ã‚‹ã€‚`pycliapp`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ï¼‹ã—ã€`pywebapp`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ï¼‹ã—ã€`pywebuitest`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ï¼‹ã™ã‚‹ã€‚ã“ã‚Œã§ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒï¼“ã¤ã§ãã‚‹ã€‚

>ã“ã“ã§ã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã£ãŸãŒã“ã‚Œã¯IDEAãŒå®šç¾©ã™ã‚‹ç”¨èªã¨ã—ã¦ã®ã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã§ã‚ã‚‹ã€‚Pythonè¨€èªãŒå®šç¾©ã™ã‚‹ã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã§ã¯ãªã„ã€‚æ··åŒã—ãªã„ã‚ˆã†æ°—ã‚’ã¤ã‘ã‚ˆã†ã€‚Pythonè¨€èªã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã¯ `myapp.py` ã®ã‚ˆã†ã«åå‰ã®æœ«å°¾ãŒ `.py` ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã“ã¨ã ãŒã€IDEAã®ç”¨èªæ³•ã¯ã¾ã£ãŸãé•ã†ã€‚
   
3ã¤ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãã‚Œãã‚Œã©ã†ã„ã†å†…å®¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ï¼Ÿä»¥ä¸‹ã«æ¦‚è¦ã‚’è¿°ã¹ã‚‹ã€‚

### pycliappã®æ¦‚è¦

ã“ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯commandlineã§å®Ÿè¡Œã™ã‚‹applicationã‚’Pythonè¨€èªã§é–‹ç™ºã—ã¾ã™ã€‚

1. æœ€åˆã«macOSã«Pythonå‡¦ç†ç³»ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚[pyenv](https://github.com/pyenv/pyenv) ã‚’ä½¿ã£ã¦ [Anaconda](https://www.anaconda.com/) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚è¤‡æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Pythonå‡¦ç†ç³»ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
1. Pythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¨™æº–çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’å°å…¥ã—ã¾ã™
1. ã“ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å°‚ç”¨ã®Pythonä»®æƒ³ç’°å¢ƒã‚’ä½œã‚Šã¾ã™ã€‚[pipenv](https://pypi.org/project/pipenv/) ã‚’åˆ©ç”¨ã—ã¾ã™
1. IntelliJ IDEAã«é©åˆ‡ãªè¨­å®šã‚’åŠ ãˆã¾ã™ã€‚ã“ã®`pycliapp` ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºä½œæ¥­ã‚’IDEAã®ãªã‹ã§ã™ã¹ã¦ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™
1. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã« *Hello, World!* ã¨è¡¨ç¤ºã™ã‚‹ç´ æœ´ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’Pythonè¨€èªã§ä½œã‚Šã¾ã™
1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚ãã®ãŸã‚ã«[pytest](https://docs.pytest.org/en/stable/)ã‚’åˆ©ç”¨ã—ã¾ã™

è©³ç´°ã¯[pycliappã®èª¬æ˜](#pycliappã®èª¬æ˜)ã‚’å‚ç…§ã®ã“ã¨

### pywebappã®æ¦‚è¦

ã“ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ Webã‚µãƒ¼ãƒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’Pythonè¨€èªã§é–‹ç™ºã—ã¾ã™ã€‚

1. ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ [Flask](https://palletsprojects.com/p/flask/) ã® [ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://flask.palletsprojects.com/en/1.1.x/tutorial/) ã‚’éš…ã€…ã¾ã§å†™çµŒã—ã¦ã€ã¡ã‚ƒã‚“ã¨å‹•ä½œã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã™ã€‚
1. ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒæä¾›ã™ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚‚å†™çµŒã—ã¾ã™ã€‚Pythonã«ã‚ˆã‚‹ä¸Šæ‰‹ãªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æŠ€æ³•ã®ä¾‹ãŒãƒ†ãƒ³ã‚³ç››ã‚Šã§ã™ã€‚
1. è‡ªä½œã—ãŸWebã‚µãƒ¼ãƒã‚¢ãƒ—ãƒªã‚’ [pip](https://pypi.org/project/pip/) ã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–ã—ã¾ã™ã€‚[PyPI](https://test.pypi.org/) ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦å…±æœ‰å¯èƒ½ã«ã—ã¾ã™ã€‚
1. è‡ªä½œã—ãŸPythonã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ„ã¿è¾¼ã‚“ã [Docker](https://www.docker.com/) ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã‚Šã€Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¡ä¸Šã’ã¦è‡ªä½œã‚¢ãƒ—ãƒªã‚’å‹•ã‹ã—ã¾ã™ã€‚[Docker Hub](https://hub.docker.com/) ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦å…±æœ‰å¯èƒ½ã«ã—ã¾ã™ã€‚
1. Flaskãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒå‹•ãDockerã‚³ãƒ³ãƒ†ãƒŠã‚’è‡ªåˆ†ã®PCã§ç«‹ã¡ä¸Šã’ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:80/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

è©³ç´°ã¯[pywebappã®èª¬æ˜](#pywebappã®èª¬æ˜)ã‚’å‚ç…§ã®ã“ã¨

### pywebuitestã®æ¦‚è¦

ã“ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ Webã‚µãƒ¼ãƒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ä¸€å¼ã‚’é–‹ç™ºã—ã¾ã™ã€‚

1. `pywebapp`ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæ§‹ç¯‰ã—ãŸWebã‚¢ãƒ—ãƒªã‚’å¯¾è±¡ã¨ã—ã¦è‡ªå‹•åŒ–ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
1. [Selenium](https://selenium-python.readthedocs.io/) ã‚’ç”¨ã„ãŸPythonãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’é–‹ç™ºã—ã¦Webãƒšãƒ¼ã‚¸ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚
1. Page Object Model ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ç”¨ã„ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’è¨­è¨ˆã—ã¾ã™ã€‚

è©³ç´°ã¯[pywebuitestã®èª¬æ˜](#pywebuitestã®èª¬æ˜)ã‚’å‚ç…§ã®ã“ã¨

### è¨˜å·ROOTPROJã®å®šç¾©

æœ¬ãƒ¬ãƒã‚¸ãƒˆãƒªã®æœ€ä¸Šä½ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚Šã¾ã™ã€‚Git Hubã‹ã‚‰cloneã—ãŸãªã‚‰å½“ç„¶ãªãŒã‚‰ã‚‚ã†å‡ºæ¥ã¦ã„ã‚‹ã¯ãšã€‚ä¾‹ãˆã° `~/github/MultipleModulesProjectTemplate` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ãŸã¨ã—ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã“ã¨ã‚’ä»¥ä¸‹ã®èª¬æ˜æ–‡ã§ `$ROOTPROJ` ã¨ç•¥è¨˜ã—ã¾ã™ã€‚ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¦Bashã‚·ã‚§ãƒ«ã«å¤‰æ•° `ROOTPROJ` ã—ãŸã¨æƒ³åƒã—ã¦ã‚‚ã‚‰ã£ã¦ã‚‚ã„ã„ã€‚

```
$ cd ~/github/MultipleModulesProjectTemplate
$ export ROOTPROJ=$(pwd)
$ echo $ROOTPROJ
/Users/myname/github/MultipleModulesProjectTemplate
```

--------------------------------------------------------

## pycliappã®èª¬æ˜

æ¦‚è¦ã¯[pycliappã®æ¦‚è¦](#pycliappã®æ¦‚è¦)ã‚’å‚ç…§ã®ã“ã¨ã€‚

### Pythonå‡¦ç†ç³»ã‚’macOSã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

ãªã«ã¯ã¨ã‚‚ã‚ã‚ŒmacOSã«Pythonå‡¦ç†ç³»ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã€‚

#### pyenvã§Anacondaã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

ã“ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ãŸã€‚

- [ã€2021å¹´æœ€æ–°ç‰ˆã€‘MacOSã§è¤‡æ•°ã®Python/Anacondaãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã„åˆ†ã‘ã‚‹æ–¹æ³•ã€ãƒ‡ãƒ¼ã‚¿åˆ†æã€‘](https://www.simpletraveler.jp/2021/01/02/macos-pyenv-python-anaconda-versionmanagement/#pyenvMac)

[pyenv](https://github.com/pyenv/pyenv) ã¯ã•ã¾ã–ã¾ã‚ã‚‹Pythonãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸­ã‹ã‚‰æœ›ã¿ã®ã‚‚ã®ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã€‚è¤‡æ•°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Pythonå‡¦ç†ç³»ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ã€åˆ‡ã‚Šæ›¿ãˆã¦ä½¿ã†ã¨ã„ã†ã“ã¨ã‚’å¯èƒ½ã«ã—ã¦ãã‚Œã‚‹ã€‚

Homebrewã‚’ä½¿ã£ã¦macOSã«pyenvã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

```
$ cd ~
$ brew install pyenv
```

pyenvã®ãƒ‘ã‚¹ã‚’Macã®.bash_profileã«è¨˜è¿°ã™ã‚‹ã€‚

```
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
```

>ãªãŠmacOS11ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯zshã‚’ä½¿ã†ã“ã¨ã«ãªã£ã¦ã„ã‚‹ãŒã€å€‹äººçš„å¥½ã¿ã§ã‚ãŸã—ã¯ã„ã¾ã ã«bashã§ã™ã€‚

ã‚ãŸã—ã¯Deep Learningã«èˆˆå‘³ãŒã‚ã‚‹ã®ã§ Anacondaã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„ã€‚ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®AnacondaãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‹ã‚’èª¿ã¹ã‚‹ã«ã¯ã“ã†ã™ã‚‹ã€‚

```
$ pyenv install --list | grep anaconda
  ...
  anaconda3-4.4.0
  ...
  anaconda3-5.3.1
  ...
```

ãŸãã•ã‚“ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã•ã‚ŒãŸå€™è£œã®ä¸­ã‹ã‚‰anaconda3-4.4.0 ã¨ anaconda3-5.3.1 ã®äºŒã¤ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚

```
$ pyenv install anaconda3-4.4.0
```

ãã—ã¦

```
$ pyenv install anaconda3-5.3.1
```

>anaconndaãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯å·¨å¤§ã ã€‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã®ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚ã‚ãŸã—ã®ç’°å¢ƒã§ã¯10åˆ†ãã‚‰ã„ã‹ã‹ã£ãŸã€‚

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§`python`ã‚³ãƒãƒ³ãƒ‰ã‚’æŠ•å…¥ã—ãŸæ™‚ã«ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½¿ã‚ã‚Œã‚‹ã‹ã‚’ç¢ºèªã—ã‚ˆã†ã€‚

```
$ pyenv versions
* system (set by /Users/kazuakiurayama/.pyenv/version)
  anaconda3-4.4.0
  anaconda3-5.3.1
```

ã“ã‚Œã‚’è¦‹ã‚‹ã¨ `system` ã« `*` ãŒã¤ã„ã¦ã„ã¾ã™ã€‚ã“ã®çŠ¶æ…‹ã§ `python` ã‚³ãƒãƒ³ãƒ‰ã‚’æŠ•å…¥ã™ã‚‹ã¨ macOSã«ãƒ—ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸPython2.7ãŒé¸æŠã•ã‚Œå®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã†ã€‚ã“ã‚Œã§ã¯ã¤ã¾ã‚‰ãªã„ã€‚

`pyenv global ãƒãƒ¼ã‚¸ãƒ§ãƒ³`ã‚³ãƒãƒ³ãƒ‰ã§è¨­å®šã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚ä»Šã‹ã‚‰ã¯anaconda3-4.4.0ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ã‚‡ã†ã€‚

```
$ pyenv global anaconda3-4.4.0
:~
$ pyenv versions
  system
* anaconda3-4.4.0 (set by /Users/kazuakiurayama/.pyenv/version)
  anaconda3-5.3.1
```

#### globalã¨local

ãªãŠç‰¹å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«cdã—ã¦ã‹ã‚‰ `pyenv local anaconda3-5.3.1` ã¨ã‚„ã‚Œã°ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã—ãŸã§ã¯globalã«æŒ‡å®šã—ãŸã®ã§ã¯ãªã„åˆ¥ã®Pythonç’°å¢ƒã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

#### ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

pyenvã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’OSã‹ã‚‰ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã“ã†ã—ã¾ã™ã€‚

```
$ pyenv uninstall ãƒãƒ¼ã‚¸ãƒ§ãƒ³å
```

### è¨˜å·SUBPROJã®å®šç¾©

TODO

### pycliappã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã«Pythonä»®æƒ³ç’°å¢ƒã‚’ä½œã‚‹ --- pipenv

$ROOTPROJãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç›´ä¸‹ã« `pycliapp` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚Šã¾ã™ã€‚`pyclipapp`ã«ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç§»ã—ã¾ã™ã€‚`pyclipapp`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®çµ¶å¯¾ãƒ‘ã‚¹ã‚’ SUBPROJ ã¨ã„ã†è¨˜å·ã§è¡¨ã™ã“ã¨ã«ã—ã¾ã™ã€‚ã¤ã¾ã‚Šä¸‹è¨˜ã®æ“ä½œã‚’ã›ã‚ˆã€‚

```
$ cd $ROOTPROJ
$ mkdir pycliapp
$ export $SUBPROJ=$(pwd)
```

$SUBPROJãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãªã‹ã«Pythonä»®æƒ³ç’°å¢ƒã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚pipenvã‚’ä½¿ã„ã¾ã™ã€‚[pipenv](https://pypi.org/project/pipenv/) ã¯Pythonä»®æƒ³ç’°å¢ƒã‚’ä½œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ä¸‹è¨˜ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ãŸã€‚

- [Pipenvã‚’ä½¿ã£ãŸPythoné–‹ç™ºã¾ã¨ã‚](https://qiita.com/y-tsutsu/items/54c10e0b2c6b565c887a)

#### pipenvã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

pyenvã§é¸æŠã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®anacondaã«pipenvã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ãƒ»ãƒ»ãƒ»ãŸã¶ã‚“ã‚‚ã†å…¥ã£ã¦ã„ã‚‹ã‚“ã§ã™ãŒã­ã‚“ã®ãŸã‚ã€‚

```
$ cd ~
$ pip install pipenv
```
#### pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã«å°‚ç”¨ã®Pythonä»®æƒ³ç’°å¢ƒã‚’ä½œã‚‹

$SUBPROJã«cdã—ã¾ã™ã€‚ãã—ã¦ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æŠ•å…¥ã™ã‚‹ã€‚

```
$ cd $SUBPROJ
$ pipenv --python 3
```

ã™ã‚‹ã¨ä»®æƒ³ç’°å¢ƒãŒä½œã‚‰ã‚Œã¾ã™ã€‚

```
Creating a virtualenv for this project...
Pipfile: /Users/myname/github/MultipleModulesProjectTemplate/pycliapp/Pipfile
Using /usr/local/bin/python3.8 (3.8.5) to create virtualenv...
â ‹ Creating virtual environment...created virtual environment CPython3.8.5.final.0-64 in 549ms
  creator CPython3Posix(dest=/Users/myname/.local/share/virtualenvs/pycliapp-TkLJRwmc, clear=False, no_vcs_ignore=False, global=False)
  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/Users/myname/Library/Application Support/virtualenv)
    added seed packages: pip==21.0.1, setuptools==52.0.0, wheel==0.36.2
  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator

âœ” Successfully created virtual environment! 
Virtualenv location: /Users/myname/.local/share/virtualenvs/pycliapp-TkLJRwmc
Creating a Pipfile for this project...
```


ã“ã®ã¨ã $SUBPROJãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã« [Pipfile](pycliapp/Pipfile) ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚Pipfileã®ä¸­ã‚’ã¿ã‚‹ã¨ã€Anacondaã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãŸPython3.xãŒé¸ã°ã‚Œã¦ã€ãã‚Œã‚’ä½¿ã†ã‚ˆã†ã«ä»®æƒ³ç’°å¢ƒãŒåˆæœŸåŒ–ã•ã‚ŒãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚


pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã«ä½œã£ãŸã“ã®Pythonä»®æƒ³ç’°å¢ƒãŒã˜ã£ã•ã„ã«ã©ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œã‚‰ã‚ŒãŸã®ã‹ï¼Ÿä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```
$ cd $SUBPROJ
$ pipenv --venv
/Users/myname/.local/share/virtualenvs/pycliapp-TkLJRwmc
```
$SUBPROJãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã§ã¯ãªãã¦ãœã‚“ãœã‚“åˆ¥ã®å ´æ‰€ã«ä½œã‚‰ã‚ŒãŸã“ã¨ã«æ³¨ç›®ã—ã¾ã—ã‚‡ã†ã€‚ä»®æƒ³ç’°å¢ƒã‚’æ§‹æˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã¯Gitã«ã‚ˆã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«å«ã‚ã‚‹ã¹ãã§ã‚ã‚Šã¾ã›ã‚“ã€‚ã ã‹ã‚‰$SUBPROJãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ãªã„åˆ¥ã®å ´æ‰€ã«ä»®æƒ³ç’°å¢ƒãŒä½œã‚‰ã‚Œã‚‹ã®ã¯å¥½éƒ½åˆã§ã™ã€‚

ã‚ã¨ã§IntelliJ IDEAã«Platform SDKã‚’è¿½åŠ ã™ã‚‹ã¨ãã€`pipenv --env`ãŒæ•™ãˆã¦ãã‚ŒãŸãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

#### å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚‹

pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãªã‹ã§ã‚ã¨ã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã—ã¾ã™ã€‚pytestã‚’ä½¿ã„ã¾ã™ã€‚pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Pythonä»®æƒ³ç’°å¢ƒã®ãªã‹ã«pytestã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚

```
$ cd $SUBPROJ
$ pipenv install pytest

Installing pytest...
Adding pytest to Pipfile's [packages]...
âœ” Installation Succeeded 
Pipfile.lock not found, creating...
Locking [dev-packages] dependencies...
Locking [packages] dependencies...
Building requirements...
Resolving dependencies...
âœ” Success! 
Updated Pipfile.lock (a834da)!
Installing dependencies from Pipfile.lock (a834da)...
  ğŸ   â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰â–‰ 0/0 â€” 00:00:00
To activate this project's virtualenv, run pipenv shell.
Alternatively, run a command inside the virtualenv with pipenv run.
```

[Pipfile](pycliapp/Pipfile)ã®ãªã‹ã« `[package]`ã¨ã„ã†è¨˜è¿°ãŒã§ãã¦ã€ãã®ãªã‹ã« `pipenv` ãŒè‡ªå‹•çš„ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚

```
[packages]
pytest = "*"
```

ã¾ãŸ $SUBPROJãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã« `Pipfile.lock` ãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•çš„ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚

```
$ cd $SUBPROJ
$ ls .
Pipfile		Pipfile.lock	pycliapp.iml
```

#### é–‹ç™ºç’°å¢ƒã ã‘ã§ä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ¥æ ã§ç®¡ç†ã™ã‚‹

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¾å­˜ã™ã‚‹é€šå¸¸ã®å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ãªãã¦ã€é–‹ç™ºç’°å¢ƒã§ã ã‘ä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ¥æ ã¨ã—ã¦ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã‚ã™ã€‚ãŸã¨ãˆã° [`autopep8`](https://githubja.com/hhatto/autopep8) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã‚ˆã†ã€‚

```
$ cd $SUBPROJ
$ pipenv install --dev autopep8
```

ã™ã‚‹ã¨PipfileãŒæ¬¡ã®ã‚ˆã†ã«æ›´æ–°ã•ã‚Œã‚‹ã€‚

```
[dev-packages]
autopep8 = "*"
```

#### åˆ¥ãƒã‚·ãƒ³ã§Pythonä»®æƒ³ç’°å¢ƒã‚’å†ç¾ã™ã‚‹æ‰‹é †

`Pipfile` ã¨ `Pipfile.lock`ã€€ã«ã¯ã€`pipenv install`ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã£ã¦ä»®æƒ³ç’°å¢ƒã«è¿½åŠ ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«é–¢ã™ã‚‹è©³ç´°æƒ…å ±ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ãµãŸã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã•ãˆã‚ã‚Œã°pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä»®æƒ³ç’°å¢ƒã¨ã¾ã£ãŸãåŒã˜ã‚‚ã®ã‚’åˆ¥ã®ãƒã‚·ãƒ³ã§å†ç¾ã™ã‚‹ã“ã¨ãŒç°¡å˜ã«ã§ãã¾ã™ã€‚ã ã‹ã‚‰`Pipfile`ã¨`Pipfile.lock`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‹ãªã‚‰ãšGitãƒ¬ãƒã‚¸ãƒˆãƒªã«è¿½åŠ ã—ã¦å…±æœ‰ã—ã¾ã™ã€‚

åˆ¥ãƒã‚·ãƒ³ã«ã“ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’cloneã—ãŸã‚ã¨ã§Pythonä»®æƒ³ç’°å¢ƒã‚’å†ç¾ã™ã‚‹ã«ã¯ã“ã†ã—ã¾ã™ã€‚

Pipfileã‚’å…¥åŠ›ã¨ã—ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã“ã†ã™ã‚‹ã€‚

```
$ cd $SUBPROJ
$ pipenv install
$ pipenv install --dev
```

`pipenv install`ã‚³ãƒãƒ³ãƒ‰ã®å ´åˆã€å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãã£ã¡ã‚ŠåŒã˜ã«ãªã‚‹ã¨ã¯ã‹ãã‚‰ãªã„ã€‚ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸæ™‚ç‚¹ã§æœ€æ–°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒé¸ã°ã‚Œã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

Pipfile.lockã‚’å…¥åŠ›ã¨ã—ã¦å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è©³ç´°ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚ãã£ã¡ã‚Šã‚ã‚ã›ã¦ç’°å¢ƒã‚’å†ç¾ã™ã‚‹ã«ã¯ã“ã†ã™ã‚‹ã€‚

```
$ cd $SUBPROJ
$ pipenv sync
$ pipenv sync --dev
```

#### Pipfileã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç™»éŒ²ã™ã‚‹

Pipefileã® `[scripts]` ã«çŸ­ã„ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¨˜è¿°ã—åå‰ã‚’ã¤ã‘ã¦ç™»éŒ²ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã¨ãˆã° ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®mainã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èµ·å‹•ã™ã‚‹ã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã€Pythonã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã€Lintãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ã€ãªã©é »ç¹ã«å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ç™»éŒ²ã—ã¦ãŠã‘ã°ä¾¿åˆ©ã§ã™ã€‚

```
[scripts]
test = "python -m pytest"
format = "autopep8 -ivr ."
```

testã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã“ã†ã—ã¾ã™ã€‚

```
$ cd $SUBPROJ
$ pyenv run test
```

#### ä»®æƒ³ç’°å¢ƒã«å…¥ã£ã¦ã‚·ã‚§ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹

pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®Pythonä»®æƒ³ç’°å¢ƒã«å…¥ã£ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³æ“ä½œã‚’ã™ã‚‹ã«ã¯ `pipenv shell` ã‚’ä½¿ã†ã€‚

```
$ cd $SUBPROJ
$ pipenv shell
Launching subshell in virtual environment...
 . /Users/myname/.local/share/virtualenvs/pycliapp-32imfJAR/bin/activate
:~/github/MyPythonProjectTemplate/pycliapp (master *)
$  . /Users/myname/.local/share/virtualenvs/pycliapp-32imfJAR/bin/activate
(pycliapp) :~/github/MyPythonProjectTemplate/pycliapp (master *)
```
ä»®æƒ³ç’°å¢ƒã®ã‚·ã‚§ãƒ«ã‹ã‚‰å‡ºã‚‹ã«ã¯ `exit` ã™ã‚‹ã€‚
```
$ exit
```

#### .envãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•èª­ã¿è¾¼ã¿

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« [`.env`](pycliapp/.env) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ãŠãã¨ `pipenv run` ã‚„ `pipenv shell` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«è‡ªå‹•ã§èª­ã¿è¾¼ã‚“ã§ãã‚Œã‚‹ã€‚èªè¨¼æƒ…å ±ãªã©ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã‚½ãƒ¼ã‚¹ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã«ã¯ã¾ãšã„æƒ…å ±ã‚’ç™»éŒ²ã—ã¦ãŠãã®ã«ä¾¿åˆ©ã€‚ãŸã ã— `.gitignore` ã« `.env` ã‚’æ›¸ã„ã¦ãƒ¬ãƒã‚¸ãƒˆãƒªã‹ã‚‰é™¤å¤–ã™ã‚‹ã®ã‚’å¿˜ã‚Œãšã«ã€‚

pycliapp/.envã®ä¾‹
```
username=John Doe
password=ThisIsNotAPassword
DEBUG=1
```

ã“ã†ã™ã‚‹ã¨ç’°å¢ƒå¤‰æ•° `DEBUG` ãŒã§ãã¦å€¤ã« `1` ãŒè¨­å®šã•ã‚Œã¾ã™ã€‚ç¢ºèªã—ã¦ã¿ã‚ˆã†ã€‚

```
$ cd $SUBPROJ
$ pipenv run python
Loading .env environment variables...
Python 3.8.5 (v3.8.5:580fbb018f, Jul 20 2020, 12:11:27) 
[Clang 6.0 (clang-600.0.57)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> import os
>>> os.environ['DEBUG']
'1'

```

#### Pipfileã‹ã‚‰requirements.txtã‚’ç”Ÿæˆã™ã‚‹

ã‚ãŸã—ã¯ pipenvã‚’ä½¿ã£ã¦å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸã€‚ãã®è©³ç´°ã¯ Pipfile ã‚„ Pipfile.lock ã«ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¨ã“ã‚ã§ã‚ã¨ã§pywebappã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§è‡ªä½œã®Pythonã‚³ãƒ¼ãƒ‰ã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã—ã¾ã™ãŒã€ãã“ã§ [`requirements.txt`](pycliapp/requirements.txt) ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚requirements.txtã¯å¤–éƒ¨ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ—æŒ™ã—ãŸã‚‚ã®ã€‚ã‚ã–ã‚ã– requirements.txt ã‚’äºŒåº¦æ‰‹æ›¸ãã—ãŸããªã„ã€‚ãã“ã§Pipfileã«åˆ—æŒ™ã•ã‚ŒãŸæƒ…å ±ã‚’å¤‰æ›ã—ã¦requirements.txtã«æ›¸ãå‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚

```
$ cd $SUBPROJ
$ pipenv run pip freeze > requirements.txt
```

ã“ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ãˆã°å¤–éƒ¨ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç®¡ç†ã‚’Pipenvã«ä¸€å…ƒåŒ–ã—ã€requirements.txtãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰‹æ›¸ãã™ã‚‹ã®ã‚’é¿ã‘ã¤ã¤ã€pipã‚³ãƒãƒ³ãƒ‰ã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’æ±ºã‚ã‚‹

ã§ã¯ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®Pythonã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã“ã†ã€‚ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®Pythonã‚³ãƒ¼ãƒ‰ã‚‚æ›¸ã“ã†ã€‚ãã®ãŸã‚ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’æ±ºã‚ãŸã€‚

```
$ cd $SUBPROJ
$ tree .
.
â”œâ”€â”€ mypkg
â”‚Â Â  â”œâ”€â”€ __init__.py
â”‚Â Â  â””â”€â”€ greeting.py
â””â”€â”€ tests
    â”œâ”€â”€ __init__.py
    â””â”€â”€ test_greeting.py
```

pycliappãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç›´ä¸‹ã« `mypkg` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚Šã¾ã—ãŸã€‚ãã®ä¸‹ã« `__init__.py` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ãŸã€‚`__init__.py` ã‚’é…ç½®ã—ãŸã“ã¨ã§ `mypkg` ãŒPythonè¨€èªã®è¨€è‘‰é£ã„ã§ã„ã†ã¨ã“ã‚ã®ã€Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ã«ãªã‚Šã¾ã™ã€‚`mypkg`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã« `greenting.py` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸã€‚ã“ã®Pythonãƒ•ã‚¡ã‚¤ãƒ«ã®ãªã‹ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¦ã„ãã¾ã™ã€‚ã“ã‚Œã§ `mypkg`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãªã‹ã« `greeting` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã£ãŸã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ã¾ãŸpycliappãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç›´ä¸‹ã« `tests` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚Šã¾ã—ãŸã€‚`tests`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã« `test_greeting.py` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸã€‚ã“ã“ã«ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¦ã„ãã¾ã™ã€‚

```
from mypkg import greeting
```

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

[pycliapp/mypkg/greeting.py](pycliapp/mypkg/greeting.py) ã®ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚·ãƒ³ãƒ—ãƒ«ãªã‚‚ã®ã§ã™ã€‚

```
def hello(name):
    return f"Hello, {name}!"
```

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

[pycliapp/tests/test_greeting.py](pycliapp/tests/test_greeting.py) ã®ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ã€‚

```
from mypkg import greeting

def test_hello():
    assert greeting.hello('World') == 'Hello, World!'
```

### srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ãŸãŒã†ã¾ãã„ã‹ãªã‹ã£ãŸ

ã“ã“ã§ã™ã“ã—è„‡é“ã«ãã‚Œã¾ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’æ±ºã‚ã‚‹ã«ã‚ãŸã£ã¦ã‚ãŸã—ãŒè¿·ã£ã¦å›°ã£ãŸã¨ã„ã†è©±ã‚’ã—ã¾ã™ã€‚

ã‚ãŸã—ã¯ pycliappãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã« `src` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é…ç½®ã—ã€`src`ã®ä¸‹ã«Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª `mypkg` ã‚’é…ç½®ã—ãŸã„ã¨è€ƒãˆã¾ã—ãŸã€‚

```
$ tree .
.
â”œâ”€â”€ src
â”‚Â Â  â””â”€â”€ mypkg
â”‚Â Â      â”œâ”€â”€ __init__.py
â”‚Â Â      â””â”€â”€ greeting.py
â””â”€â”€ tests
Â â”œâ”€â”€ __init__.py
Â â””â”€â”€ test_greeting.py
```

ãªãœï¼Ÿ --- ã‚ãŸã—ã¯Javaãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®çµŒæ­´ãŒé•·ã„ã€‚Mavenã‚„[Gradleã®æµå„€](https://docs.gradle.org/current/userguide/organizing_gradle_projects.html#sec:separate_language_source_files) ã©ãŠã‚Šã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æœ€ä¸Šä½ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã« `src` ãŒã‚ã‚‹ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã«é¦´æŸ“ã‚“ã§ã„ãŸã€‚ã ã‹ã‚‰ `src` ãŒç„¡ã„ã®ãŒæ°—ã«å…¥ã‚‰ãªã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚ 

ã¨ã“ã‚ãŒPythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã« `src` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚ã†ã¨ã—ã¦ãŸãã•ã‚“ã®å•é¡Œã«é­é‡ã—ã¾ã—ãŸã€‚ã©ã‚“ãªå•é¡ŒãŒèµ·ããŸã‹ï¼Ÿ ãŸãã•ã‚“ã‚ã‚‹ã®ã§ã™ãŒã€ã²ã¨ã¤ã ã‘ã€ã‚ãŸã—ãŒã¤ã„ã«å›é¿ç­–ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸå•é¡Œã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚å¾Œè¿°ã®ã¨ãŠã‚Šã€ã‚ãŸã—ã¯ pywebappã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã¤ãã‚Šã€Flaskãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ flaskr ã‚’ä½œã‚Šã¾ã—ãŸï¼ˆæ­£ã—ãã¯Tutorialã‚’å†™çµŒã—ã¾ã—ãŸï¼‰ã€‚ãã—ã¦Webã‚µãƒ¼ãƒ "Waitress" ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§èµ·å‹•ã—ã¦ãã®ãªã‹ã§flaskrã‚’å‹•ã‹ãã†ã¨ã—ãŸã€‚flaskrã®Pythonã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã«ã‚ã‚‹ã“ã¨ã‚’ã©ã†ã«ã‹ã—ã¦Waitressã«æ•™ãˆã‚‹æ–¹æ³•ãŒã‚ã‹ã‚‰ãªã‹ã£ãŸã€‚https://docs.pylonsproject.org/projects/waitress/en/stable/runner.html ã‚’ã¿ã‚‹ã¨ "As of 0.8.6, the current directory is automatically included on sys.path."ã¨æ›¸ã„ã¦ã‚ã£ãŸã€‚ã¤ã¾ã‚Šã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚Œã°å•é¡Œã¯èµ·ããªã„ã®ã«ã€srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒã‚ã‚‹ã›ã„ã§å•é¡ŒãŒèµ·ããŸã€‚ãŠæ‰‹ä¸Šã’ã§ã—ãŸã€‚ 

çµè«–ï¼šã€€Pythonä¸–ç•Œã§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æœ€ä¸Šä½ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç›´ä¸‹ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãŸã¨ãˆã° `mypkg`ï¼‰ã‚’é…ç½®ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãŒç‹é“ã§ã™ã€‚ãã‚Œä»¥å¤–ã®å½¢ã‚’æ¨¡ç´¢ã—ã¦ã‚‚ç„¡é§„ã§ã™ã€‚ã‚„ã‚ã¦ãŠãã¾ã—ã‚‡ã†ã€‚


### IntelliJ IDEAã®ãªã‹ã®Pythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿…è¦ãªè¨­å®šã‚’ã™ã‚‹

ã“ã®ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’IntelliJ IDEAã§Empty Projectã¨ã—ã¦ä½œã‚Šã€ãã®ãªã‹ã«åŒ…å«ã•ã‚Œã‚‹å½¢ã§ pycliapp ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹ï¼“ã¤ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã¤ãã‚Šã¾ã—ãŸã€‚IDEAç”¨èªã§ã„ãˆã°ã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã‚’ï¼“ã¤ä½œã‚Šã¾ã—ãŸã€‚ãã®ã‚ã¨ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ pipenvã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ pycliappãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å°‚ç”¨ã®Pythonä»®æƒ³ç’°å¢ƒã‚’ã¤ãã‚Špytestãªã©å¤–éƒ¨ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸã€‚ã¨ã“ã‚ãŒã¾ã IDEAã«ã¯ã¾ã ãªã‚“ã®è¨­å®šã‚‚åŠ ãˆã¦ã„ã¾ã›ã‚“ã€‚ã ã‹ã‚‰IDEAã§pycliappãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’é–‹ã„ãŸã¨ãã«ãã‚Œå°‚ç”¨ã®ä»®æƒ³ç’°å¢ƒã‚’ä½¿ã†ã‚ˆã†ã«è¨­å®šã§ãã¦ã„ã¾ã›ã‚“ã€‚

Anacondaã«ã¯numpyã‚’è†¨å¤§ãªæ•°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã™ã§ã«ãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚pytestã‚‚ãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚ã¨ã“ã‚ãŒã‚ã¨ã§ pywebuitestãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½¿ã† [selenium](https://selenium-python.readthedocs.io/) ã¯Anacondaã«å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã ã‹ã‚‰ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®Pythonä»®æƒ³ç’°å¢ƒã« selenium ã‚’è¿½åŠ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã§ã—ã‚‡ã†ã€‚ãã—ã¦IDEAã§pywebuitestã‚’é–‹ã„ãŸã¨ãã«å°‚ç”¨ã®ä»®æƒ³ç’°å¢ƒã‚’æŒ‡å®šã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†è¨­å®šã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

IDEAã§Pythonãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å‡¦ç†ç³»ã‚’è¨­å®šã™ã‚‹ä½œæ¥­ã¯äºŒæ®µéšã‚’è¸ã¿ã¾ã™ã€‚ç¬¬ä¸€ã« ä»®æƒ³ç’°å¢ƒã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ã€IDEAã«ã¨ã£ã¦Platform SDK ã®ã²ã¨ã¤ã¨ã—ã¦ç™»éŒ²ã—ã¦ã‚„ã‚Šã¾ã™ã€‚ç¬¬äºŒã« pycliappã¯ã˜ã‚å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŸã„ã—ã¦ Project SDKã¨ã—ã¦Platform SDKã‚’ã²ã¨ã¤é¸æŠã—ã¦ã‚¢ã‚µã‚¤ãƒ³ã—ã¾ã™ã€‚å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã«æº–å‚™ã—ãŸä»®æƒ³ç’°å¢ƒã‚’æ­£ã—ãé¸æŠã—ã¦å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Project SDKã«ã‚¢ã‚µã‚¤ãƒ³ã—ã¾ã™ã€‚

#### IDEAã«Platform SDKã‚’è¿½åŠ ã™ã‚‹


IDEAã‚’èµ·å‹•ã—MyPythonProjectTemplateãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ãã¾ã™ã€‚*File > Project Structure...* ã‚’é¸æŠã™ã‚‹ã€‚ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ *Platform Settings > SDKs* ã‚’é¸æŠã™ã‚‹ã€‚ã“ã“ã«ã¯ pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®Pythonä»®æƒ³ç’°å¢ƒãŒSDKã¨ã—ã¦ã¾ã ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

![11](docs/images/11_PlatformSDK_before_addition.png)

ï¼‹ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦*Add Python SDK*ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã—ã¾ã™ã€‚

![12](docs/images/12_AddPythonSDK.png)

pycliappãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã«ä½œã£ãŸPythonä»®æƒ³ç’°å¢ƒã‚’Platform SDKã¨ã—ã¦IDEAã«è¿½åŠ ç™»éŒ²ã—ãŸã„ã®ã§ã™ãŒã€ãã®ãŸã‚ã«ã¯ãã®ä»®æƒ³ç’°å¢ƒã®ãƒ‘ã‚¹ã‚’èª¿ã¹ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§èª¿ã¹ã‚‰ã‚Œã¾ã™ã€‚

```
$ cd $SUBPROJ
$ pwd
/Users/myname/github/MyPythonProjectTemplate/pycliapp
$ pipenv --venv
/Users/myname/.local/share/virtualenvs/pycliapp-32imfJAR
```

*Add Python Interpreter* ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ãªã‹ *Base Interpreter* ã®ã¨ã“ã‚ã«ã€Pythonä»®æƒ³ç’°å¢ƒã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãªã‹ã«ã‚ã‚‹ pythonã®ãƒã‚¤ãƒŠãƒªã®ãƒ‘ã‚¹ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

![13](docs/images/13_AddPythonInterpreter.png)

OKã™ã‚‹ã¨IDEAãŒæ•°ç§’èµ°ã£ã¦ `Python 3.8 (MyPythonProjectTemplate)` ã¨ã„ã†åå‰ã§Platform SDKãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚ã“ã®åå‰ã®ã¾ã¾ã§ã¯ã‚ã¨ã§ pywebapp ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä»®æƒ³ç’°å¢ƒã‚’è¿½åŠ ã™ã‚‹ã¨ãã«é‡è¤‡ã—ã¦ã—ã¾ã†ã€‚ `Python 3.8 (MyPythonProjectTemplate-pycliapp)` ã¨ã„ã†å°‘ã—è©³ã—ã„åå‰ã«å¤‰æ›´ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

#### IDEAã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«Project SDKã‚’è¨­å®šã™ã‚‹

ã¤ãã« pycliappãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå‚ç…§ã™ã¹ãSDKã‚’è¨­å®šã—ã¾ã™ã€‚

*Files > Project Structure...* ã§ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ãã€å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ *Project Settings > Modules*ã‚’é¸ã¶ã€‚ã™ã‚‹ã¨ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãªã‹ã«å«ã¾ã‚Œã¦ã„ã‚‹ï¼“ã¤ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (pycliappã€pywebappã€pywebuitest)ãŒä¸€è¦§ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€‚pycliappãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠã—ã¾ã™ã€‚ãã—ã¦ *Module SDK* ã¨ã—ã¦ä¸Šè¨˜ã§è¿½åŠ ã—ãŸ `Python 3.8 (MyPythonProjectTemplate-pycliapp)`ã‚’è¨­å®šã—ã¾ã™ã€‚

![14](docs/images/14_AssignModuleSDK.png)

OKã—ã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã§IDEAã®è¨­å®šã¯ã§ãã¾ã—ãŸã€‚

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ --- pytest


#### IDEAã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šï¼šã‚½ãƒ¼ã‚¹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å°ã‚’ã¤ã‘ã‚‹


---------------------------------------------------------
## pywebappã®èª¬æ˜

æ¦‚è¦ã¯[pywebappã®æ¦‚è¦](#pywebappã®æ¦‚è¦)ã‚’å‚ç…§ã®ã“ã¨ã€‚

---------------------------------------------------------
## pywebuitestã®èª¬æ˜

æ¦‚è¦ã¯[pywebuitestã®æ¦‚è¦](#pywebuitestã®æ¦‚è¦)ã‚’å‚ç…§ã®ã“ã¨ã€‚


---------------------------------------------------------
## è£œè¶³èª¬æ˜

### READMEã«ç›®æ¬¡ã‚’ã¤ã‘ãŸ

[GitHubã®æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®README](https://github.com/kazurayam/MultipleModulesProjectTemplate) ã«ç›®æ¬¡(Table of Contents)ã‚’ã¤ã‘ãŸã€‚ä¸‹è¨˜ã®ãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«ã—ã¦å®Ÿç¾ã—ãŸã€‚

- [[GitHub]README.mdã®ç›®æ¬¡ç”Ÿæˆã‚’Actionã€Œtoc-generatorã€ã«ã‚ˆã‚‹è‡ªå‹•åŒ–ã§æ¥½ã—ã‚ˆã†](https://dev.classmethod.jp/articles/auto-generate-toc-on-readme-by-actions/)
